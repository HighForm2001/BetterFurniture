
@model Furniture
@{
    ViewData["Title"] = "EditView";
}
<center>

    <h1 style="border:solid;font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif">
        Edit Furniture Information for @Model.Name
    </h1>
    <span style="color:red">@ViewBag.Msg</span>
    <form asp-action="Edit" asp-controller="InventoryManagement" method="post" enctype="multipart/form-data">
        <table border="1">
            <tr>
                <th>Furniture ID</th>
                <td>
                    <input asp-for="@Model.ID" readonly />
                    <span asp-validation-for="@Model.ID" class="text-danger"></span>
                </td>
            </tr>
            <tr>
                <th>Furniture Name</th>
                <td>
                    <input asp-for="@Model.Name" />
                    <span asp-validation-for="@Model.Name" class="text-danger"></span>
                </td>
            </tr>
            <tr>
                <th>Description</th>
                <td>
                    <textarea asp-for="@Model.Description"></textarea>
                    <span asp-validation-for="@Model.Description" class="text-danger"></span>
                </td>
            </tr>
            <tr>
                <th>Price</th>
                <td>
                    <input asp-for="@Model.Price" type="number" min="0" step=".01" />
                    <span asp-validation-for="@Model.Price" class="text-danger"></span>
                </td>
            </tr>
            <tr>
                <th>Quantity</th>
                <td>
                    <input asp-for="@Model.Quantity" type="number" min="1" step="1" />
                    <span asp-validation-for="@Model.Quantity" class="text-danger"></span>
                </td>
            </tr>
            <tr>
                <th style="display:none">Url</th>
                <td>
                    <input asp-for="@Model.ImageUrls" style="display:none" />
                    <span asp-validation-for="@Model.ImageUrls" class="text-danger"></span>
                </td>
            </tr>
            <tr>
                <th>Insert Pictures</th>
                <td>
                    <input type="file" name="imageFile" accept="image/*" multiple />
                </td>
            </tr>
        </table>
        <input type="submit" value="Edit Furniture: @Model.Name" />
    </form>

    <form asp-action="DeleteSingleImage" asp-controller="InventoryManagement" method="post" enctype="multipart/form-data">
        <table border="1">
            <tr>
                <th>Furniture Images</th>
                <td>
                    @if (Model.ImageUrls.Length > 0)
                    {
                        foreach (var url in Model.ImageUrls.Split(","))
                        {
                            <img src="@url" width="200" height="200" />
                            <button type="submit" class="btn btn-primary" asp-action="DeleteSingleImage" asp-route-imgUrl="@url" asp-route-id="@Model.ID">Delete</button>
                        }
                    }
                    else
                    {
                        <span>No Image available for this product</span>
                    }

                </td>
            </tr>

        </table>
    </form>
</center>
